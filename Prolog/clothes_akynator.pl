% Верхняя одежда (8)
clothing('Пальто',         [1,0,1,0,0,0,1,1]).
clothing('Куртка',         [1,0,1,0,0,0,0,1]).
clothing('Парка',          [1,0,1,0,0,0,1,1]).
clothing('Пуховик',        [1,0,1,0,0,0,1,1]).
clothing('Плащ',           [1,0,1,0,0,0,1,0]).
clothing('Ветровка',       [1,0,1,0,0,0,0,1]).
clothing('Жилет',          [1,0,0,0,0,0,0,1]).
clothing('Джинсовая куртка',[1,0,1,0,0,1,0,1]).

% Одежда для ног (12)
clothing('Джинсы',         [0,1,0,0,0,1,0,1]).
clothing('Брюки',          [0,1,0,0,0,0,0,1]).
clothing('Шорты',          [0,1,0,0,1,0,0,0]).
clothing('Леггинсы',       [0,1,0,1,1,0,0,0]).
clothing('Юбка',           [0,1,0,1,0,0,0,0]).
clothing('Спортивные штаны',[0,1,0,0,1,0,0,1]).
clothing('Велосипедки',    [0,1,0,0,1,0,0,0]).
clothing('Капри',          [0,1,0,1,0,0,0,0]).
clothing('Бермуды',        [0,1,0,0,0,0,0,0]).
clothing('Комбинезон',     [0,1,1,0,0,1,1,1]).
clothing('Джинсовые шорты',[0,1,0,0,0,1,0,0]).
clothing('Лосины',         [0,1,0,1,1,0,0,0]).

% Одежда для верха (12)
clothing('Футболка',       [0,0,1,0,0,0,0,0]).
clothing('Рубашка',        [0,0,1,0,0,0,0,1]).
clothing('Свитер',         [0,0,1,0,0,0,0,0]).
clothing('Кардиган',       [0,0,1,1,0,0,0,1]).
clothing('Толстовка',      [0,0,1,0,0,0,0,0]).
clothing('Блузка',         [0,0,1,1,0,0,0,1]).
clothing('Топ',            [0,0,0,1,0,0,0,0]).
clothing('Майка',          [0,0,0,0,0,0,0,0]).
clothing('Кроп-топ',       [0,0,0,1,0,0,0,0]).
clothing('Боди',           [0,0,0,1,0,0,1,1]).
clothing('Жилетка',        [0,0,0,0,0,0,0,1]).
clothing('Джемпер',        [0,0,1,0,0,0,0,0]).

:- dynamic clothing/2.

% Вопросы
question(1, "Это верхняя одежда? (1. Да, 0. Нет)").
question(2, "Носится на ногах?").
question(3, "Имеет рукава?").
question(4, "Предназначена в основном для женщин?").
question(5, "Используется в спорте/активном отдыхе?").
question(6, "Сшита из джинсовой ткани?").
question(7, "Закрывает всё тело (кроме головы/рук)?").
question(8, "Имеет застёжку (молнию, пуговицы)?").

% Автоматическая загрузка всех объектов
load_clothes :-
    retractall(clothing(_,_)), % Очистка базы
    % Верхняя одежда
    assertz(clothing('Пальто',[1,0,1,0,0,0,1,1])),
    assertz(clothing('Куртка',[1,0,1,0,0,0,0,1])),
    % ... все остальные объекты
    assertz(clothing('Джемпер',[0,0,1,0,0,0,0,0])),
    write('База загружена: 32 вида одежды.'), nl.

% Основной предикат
guess :-
    load_clothes,
    findall(Name, clothing(Name,_), Clothes),
    length(Clothes, Len),
    format('Я угадаю один из ~d видов одежды!~n', [Len]),
    ask_questions(Answers),
    (find_clothing(Answers, Name) -> 
        format('Это... ~w!~n', [Name])
    ; 
        write('Не смог определить :(')
    ).

% Вспомогательные предикаты
ask_questions(Answers) :-
    findall(Q, between(1,8,Q), Questions),
    maplist(ask_question, Questions, Answers).

ask_question(Q, Answer) :-
    question(Q, Text),
    format('~w (1. Да, 0. Нет) ', [Text]),
    read(Answer).

find_clothing(Answers, Name) :-
    clothing(Name, Answers).

% Запуск: ?- guess.